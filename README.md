# 股票数据获取工具

这是一个Python脚本，可以根据股票代码获取最近30天的股票基本信息，包括收盘价、成交额、成交量等数据。

## 版本说明

本项目提供两个版本的脚本：

1. **stock_data_fetcher_akshare.py** (推荐) - 使用akshare数据源，无需token，直接可用
2. **stock_data_fetcher.py** - 使用tushare数据源，需要token才能获得更稳定的数据

## 功能特点

- 获取股票最近30天的日线数据
- 显示开盘价、最高价、最低价、收盘价、成交量、成交额
- 提供价格涨跌幅统计
- 支持成交量和成交额统计
- 显示价格区间信息
- 支持交互式查询

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 快速开始 (推荐)

使用akshare版本（无需token，直接可用）：

```bash
python stock_data_fetcher_akshare.py
```

### 2. 使用tushare版本 (需要token)

```bash
python stock_data_fetcher.py
```

### 3. 交互式使用

运行脚本后，按照提示输入股票代码，如：
- `000001` (平安银行)
- `600000` (浦发银行)
- `000002` (万科A)

输入 `q` 退出程序

### 2. 在代码中使用

```python
from stock_data_fetcher import StockDataFetcher

# 创建数据获取器
fetcher = StockDataFetcher()

# 获取股票数据（默认30天）
df = fetcher.get_stock_data('000001')

# 获取指定天数的数据
df = fetcher.get_stock_data('000001', days=60)

# 显示股票信息
fetcher.display_stock_info('000001')
```

## 股票代码格式

支持以下格式的股票代码：
- 6位数字代码：`000001`, `600000`
- 带交易所后缀：`000001.SZ`, `600000.SH`

系统会自动判断交易所：
- 以6或9开头的代码默认为上交所（.SH）
- 其他代码默认为深交所（.SZ）

## 输出信息说明

脚本会显示以下信息：

### 基本数据
- 交易日期
- 开盘价
- 最高价
- 最低价
- 收盘价
- 成交量（手）
- 成交额（元）

### 统计信息
- 最新收盘价和交易日期
- 日涨跌幅
- 30天涨跌幅
- 平均成交量和成交额
- 最高/最低成交量和成交额
- 价格区间（最高价-最低价）

## 注意事项

1. **网络连接**：需要稳定的网络连接来获取数据
2. **数据源**：使用tushare免费数据源，可能有访问频率限制
3. **交易时间**：只能获取已收盘交易日的数据
4. **股票代码**：请确保输入正确的股票代码

## 常见问题

### Q: 无法获取数据怎么办？
A: 
1. 检查网络连接
2. 确认股票代码是否正确
3. 稍等片刻后重试（可能有访问频率限制）

### Q: 数据不准确怎么办？
A: 本工具使用免费数据源，如需更精确的数据建议使用付费数据源

### Q: 如何获取更长时间的数据？
A: 修改代码中的`days`参数，如`fetcher.get_stock_data('000001', days=365)`

## 扩展功能

你可以根据需要修改代码来：
- 获取不同时间范围的数据
- 添加更多的技术指标
- 导出数据到Excel或CSV文件
- 添加更多的统计指标